<h1>Linux Simple I/O Library</h1>
<p><b>libsimpleio</b> is an attempt to encapsulate (as much as possible) the
ugliness of Linux I/O device access. It provides services for the following
types of I/O devices:</p>
<ul>
<li><a href="https://wiki.analog.com/software/linux/docs/iio/iio">Industrial
I/O Subsystem</a> A/D (Analog to Digital) Converter Devices</li>
<li><a href="https://wiki.analog.com/software/linux/docs/iio/iio">Industrial
I/O Subsystem</a> D/A (Digital to Analog) Converter Devices</li>
<li>GPIO (General Purpose Input/Output) Pins</li>
<li>Raw HID (Human Interface Device) Devices</li>
<li>I<sup>2</sup>C (Inter-Integrated Circuit) Bus Devices</li>
<li><a href=
"https://www.labviewmakerhub.com/doku.php?id=learn:libraries:linx:spec:start">Labview
LINX Remote I/O</a> Devices</li>
<li>PWM (Pulse Width Modulated) Output Devices</li>
<li><a href="http://git.munts.com/libsimpleio/doc/RemoteIOProtocol.pdf">Remote
I/O Protocol</a> Devices</li>
<li>Serial Ports</li>
<li>SPI (Serial Peripheral Interface) Bus Devices</li>
<li><a href=
"http://git.munts.com/libsimpleio/doc/StreamFramingProtocol.pdf">Stream Framing
Protocol</a> Devices</li>
<li>TCP and UDP over IPv4 Network Devices</li>
<li>Watchdog Timer Devices</li>
</ul>
<p>Although <b>libsimpleio</b> was originally intended for Linux microcomputers
such as the Raspberry Pi, it can also be useful on larger desktop Linux
systems.</p>
<p>The C wrapper functions exported by <b>libsimpleio</b> all follow the same
uniform pattern:</p>
<ul>
<li>All C wrapper functions are proper procedures (<b><tt>void f()</tt></b> in
C).</li>
<li>All input arguments of primitive types (<b><tt>int</tt></b>,
<b><tt>float</tt></b>, etc.) are passed by value.</li>
<li>All output arguments of primitive types are passed by reference (<b><tt>int
*</tt></b>, <b><tt>float *</tt></b>, etc.).</li>
<li>All composite types are passed by reference.</li>
<li><b><tt>int32_t</tt></b> is used wherever possible for <b><tt>int</tt></b>
and <b><tt>bool</tt></b> arguments.</li>
</ul>
<p>All of the C wrapper functions are declared between
<b><tt>_BEGIN_STD_C</tt></b> and <b><tt>_END_STD_C</tt></b> for C++. Binding
modules are provided for Ada, C#, Java, and Free Pascal. Additional source code
libraries are provided for Ada, C++, C#, Java, and Free Pascal that define OOP
(Object Oriented Programming) classes for <b>libsimpleio</b>.</p>
<h2>News</h2>
<ul>
<li>8 January 2020 -- Added <b><tt>LINUX_errno()</tt></b>. Added <a href=
"https://libmodbus.org">libmodbus</a> bindings and objects for Ada.</li>
<li>31 January 2020 -- Added .gpr project files to
<b><tt>ada/programs/libsimpleio/</tt></b>,
<b><tt>ada/programs/libsimpleio/mcp2221/</tt></b>, and
<b><tt>ada/programs/libsimpleio/remoteio</tt></b> to allow building native
programs with just <b><tt>gprbuild</tt></b>, using a command like:
<pre><b>
gprbuild libsimpleio.gpr -p test_userled
</b></pre>
Reworked Ada make files to allow building Windows applications in <a href=
"https://docs.microsoft.com/en-us/windows/wsl/faq">Windows Subsystem for
Linux</a>. Until now, using the make files on Windows required using <a href=
"https://www.cygwin.com">Cygwin</a>.</li>
<li>1 February 2020 -- Added links to <a href=
"https://www.makewithada.org">Make With Ada</a> projects.</li>
<li>2 February 2020 -- Flattened the <b><tt>csharp/</tt></b> directory
tree.</li>
<li>7 February 2020 -- Added .Net Core 3.1 project templates for both
<b>libsimpleio</b> and <b>libremoteio</b>. Install these from <a href=
"https://www.nuget.org">NuGet</a> with the following commands:
<pre><b>
dotnet new -i libsimpleio-templates
dotnet new -i libremoteio-templates
</b></pre></li>
<li>10 February 2020 -- Renamed NuGet package <b>libsimpleio-standard</b> to
<b>libsimpleio</b>. Renamed NuGet package <b>libremoteio-standard</b> to
<b>libremoteio</b>. Dropped support for building .Net Framework applications
with <b><tt>csc.exe</tt></b>.</li>
<li>12 February 2020 -- Added Visual Studio project templates for
<b>libsimpleio</b> and <b>libremoteio</b> for C# console applications for .Net
Core and .Net Framework.</li>
<li>25 February 2020 -- Added support for building NuGet C# .Net Core
application packages.</li>
<li>3 March 2020 -- Modified <b><tt>libsimpleio.dll</tt></b> use
<b><tt>IO.Objects.libsimpleio.Device.Designator</tt></b> instead of chip and
channel to select ADC inputs, DAC outputs, GPIO pins, I<sup>2</sup>C buses, PWM
outputs, and SPI slave selects.</li>
<li>30 April 2020 -- Added <b><tt>popen()</tt></b> wrappers
<b><tt>LINUX_popen_read()</tt></b>, <b><tt>LINUX_popen_write()</tt></b> and
<b><tt>LINUX_pclose()</tt></b>. Added Ada packages
<b><tt>Email_Sendmail</tt></b> and <b><tt>Email_Mail</tt></b>, for sending
email messages via <b><tt>/usr/sbin/sendmail</tt></b> and
<b><tt>/usr/bin/mail</tt></b> respectively.</li>
<li>15 May 2020 -- Autogenerate API documentation <b><tt>.pdf</tt></b> files
from <b><tt>libremoteio.dll.chm</tt></b> and
<b><tt>libsimpleio.dll.chm</tt></b>. Include API documentation files (both
<b><tt>.chm</tt></b> and <b><tt>.pdf</tt></b>) in the NuGet packages.</li>
<li>12 September 2020 -- Added or refined email services for Ada, C#, and Free
Pascal. This work resulted from a lengthy period of experimentation with
sending email from a Linux embedded system.</li>
<li>18 September 2020 -- Modified udev rule handling for native Linux systems.
The rules and their helper scripts are now installed to
<b><tt>/usr/local/share/libsimpleio/udev/</tt></b>. If you install from a
source checkout, you now need to do <b><tt>make install_udev_rules</tt></b>
after <b><tt>make install</tt></b> in order to install some symbolic links in
<b><tt>/etc/udev/rules.d</tt></b>.<br>
Added a <a href="https://www.nuget.org">NuGet</a> <a href=
"https://docs.microsoft.com/en-us/nuget/hosting-packages/local-feeds">local
package feed</a> to <b>libsimpleio</b>. You need to manually add an entry to
the <b><tt>packageSources</tt></b> block in <b><tt>NuGet.Config</tt></b> (found
at <b><tt>.config/NuGet/NuGet.Config</tt></b> on Linux or
<b><tt>%HOMEDRIVE%%HOMEPATH%\AppData\Roaming\NuGet\NuGet.Config</tt></b> on
Windows) in order to use the local package feed. You should also comment out
the entry for <b><tt>nuget.org</tt></b>, especially if you need to build .Net
applications offline from the Internet.</li>
</ul>
<h2>Documentation</h2>
<p>The user manual for <b>libsimpleio</b> is available at <a href=
"http://git.munts.com/libsimpleio/doc/UserManual.pdf">UserManual.pdf</a>.</p>
<p>The man pages specifying the <b>libsimpleio</b> API are available at
<a href="http://git.munts.com/libsimpleio/doc/libsimpleio.html">libsimpleio.html</a>.</p>
<h2>Git Repository</h2>
<p>The source code is available at:</p>
<p><a href=
"https://github.com/pmunts/libsimpleio">https://github.com/pmunts/libsimpleio</a></p>
<p>Use the following command to clone it:</p>
<pre><b>
git clone https://github.com/pmunts/libsimpleio.git
</b></pre>
<h2>Package Repository</h2>
<p>Prebuilt packages for <a href="http://www.debian.org">Debian</a> Linux are
available at:</p>
<a href="http://repo.munts.com/debian10">http://repo.munts.com/debian10</a>
<h2><a href="https://www.makewithada.org/">Make With Ada</a> Projects</h2>
<ul>
<li>2017 <a href=
"https://www.makewithada.org/entry/ada_linux_sensor_framework">Ada Embedded
Linux Framework</a></li>
<li>2019 <a href=
"https://www.hackster.io/philip-munts/modbus-rtu-framework-for-ada-f33cc6">Modbus
RTU Framework for Ada</a> (Prize Winner!)</li>
</ul>
<hr>
Questions or comments to Philip Munts <a href=
"mailto:phil@munts.net">phil@munts.net</a>
<p>I am available for custom system development (hardware and software) of
products using ARM Linux or other microcomputers.</p>
